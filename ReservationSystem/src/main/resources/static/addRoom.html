<!DOCTYPE html>
<html lang="en">
<head>
    <title></title>
</head>
<body>
<form id="roomForm">
    <label for="price">Price: </label>
    <input type="text" id="price" required>
    <br>
    <label for="type">Type: </label>
    <input type="text" id="type" required>
    <br>
    <label for="address">Address: </label>
    <input type="text" id="address" required>
    <br>
    <label for="imgdata">Image Url: </label>
    <input type="text" id="imgdata" required>
    <br>
    <label for="isbooked">IsBooked</label>
    <input type="checkbox" id="isbooked">
    <br>
    <button type="button" onclick="addRoom()">Add Room</button>
    <button type="reset">Reset</button>
</form>
<script>
    function addRoom() {
        var price = document.getElementById("price").value;
        var type = document.getElementById("type").value;
        var address = document.getElementById("address").value;
        var imgdata = document.getElementById("imgdata").value;
        var isBooked = document.getElementById("isbooked").checked ? true : false;

        var roomData = {
            price: price,
            roomType: type,
            address: address,
            img_url: imgdata,
            booked: isBooked
        };

        fetch('/room/add', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(roomData)
        })
        .then(response => {
            if (response.ok) {
                return response.text();
            }
            throw new Error('Network response was not ok.');
        })
        .then(data => {
            console.log('Room added successfully:', data);
        })
        .catch(error => {
            console.error('Error:', error);
        });
    }
</script>

<br>
<h3>List Room</h3>
<div id="roomList"></div>
<script>
    fetch('room')
        .then(response => response.json())
        .then(data => {
            const roomListDiv = document.getElementById('roomList');
            data.forEach(room => {
                const roomDiv = document.createElement('div');
                roomDiv.textContent = `Room ID: ${room.id}, Type:${room.roomType}, Price: ${room.price}, Address: ${room.address},
                 Url: ${room.img_url}, Status: ${room.booked}`;
                roomListDiv.appendChild(roomDiv);
            });
        })
        .catch(error => console.error('Error:', error));
</script>

</body>
</html>
